(this["webpackJsonpsanchez-jennifer"]=this["webpackJsonpsanchez-jennifer"]||[]).push([[0],{36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},49:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(28),r=c.n(n),i=(c(36),c(4)),l=c(5),d=(c(37),c(38),c(39),c(1));function o(){return Object(d.jsx)("div",{className:"center",children:Object(d.jsx)("img",{src:"/assets/image/portada.jpg",alt:"portada",className:"portada"})})}var j=c(12),b=c(8),m=c(16),u=m.a.initializeApp({apiKey:"AIzaSyA5d1EVYPjoNZ_Nt7pI1fNcBJcC5dap0pg",authDomain:"react-proyecto-jennifer.firebaseapp.com",projectId:"react-proyecto-jennifer",storageBucket:"react-proyecto-jennifer.appspot.com",messagingSenderId:"435806527897",appId:"1:435806527897:web:107a79dc1841febd4ef308"});function O(){return m.a.firestore(u)}var h=c(13),x=function(e){var t=e.initial,c=e.stock,s=e.onAdd,n=Object(a.useState)(t),r=Object(b.a)(n,2),i=r[0],l=r[1];return Object(d.jsxs)("div",{className:"count",children:[Object(d.jsxs)("div",{className:"quantity-input",children:[Object(d.jsx)("button",{className:"minus",onClick:function(){i>1&&l(i-1)},children:"-"}),Object(d.jsx)("span",{className:"number-input",children:i}),Object(d.jsx)("span",{className:"plus",onClick:function(){i<c&&l(i+1)},children:"+"})]}),Object(d.jsx)("div",{className:"agregarCarrito",children:Object(d.jsx)("button",{className:"addtocart",onClick:function(){return s(i)},children:Object(d.jsxs)("div",{className:"pretext",children:[Object(d.jsx)("i",{className:"material-icons",children:"shopping_cart"})," AGREGAR"]})})})]})},f=c(31),p=Object(a.createContext)(),v=function(){return Object(a.useContext)(p)},N=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)([0]),l=Object(b.a)(i,2),o=l[0],j=l[1];Object(a.useEffect)((function(){j(n.reduce((function(e,t){return e+t.cantidad}),0))}),[n]);var m=O(),u=Object(a.useState)({nombre:"",telefono:"",email:""}),h=Object(b.a)(u,2),x=h[0],v=h[1],N=Object(a.useState)({}),g=Object(b.a)(N,2),w=g[0],y=g[1],C=Object(a.useState)(),S=Object(b.a)(C,2),k=S[0],D=S[1];return Object(d.jsx)(p.Provider,{value:{cartList:n,cantidadUnidades:o,dbQuery:m,dataOrder:w,formData:x,detalleOrden:k,guardarDetalle:D,setFormData:v,setOrderData:y,addItems:function(e){var t=n.find((function(t){return t.id===e.id}));t?(t.cantidad=t.cantidad+e.cantidad,r(n),j(t.cantidad)):r([].concat(Object(f.a)(n),[e]))},deleteItem:function(e){r(n.filter((function(t){return t.id!==e})))},deleteAll:function(){r([])},formatNumber:function(e){return Object(d.jsx)("span",{children:new Intl.NumberFormat("ES-AR",{style:"currency",currency:"ARS"}).format(e)})},precioTotal:function(){return n.reduce((function(e,t){return e+t.cantidad*t.price}),0)}},children:t})},g=(c(41),function(e){var t=e.prod,c=v(),s=c.addItems,n=c.formatNumber,r=Object(a.useState)("input"),l=Object(b.a)(r,2),o=l[0],m=l[1];return Object(d.jsx)("div",{className:"col s12 m12 l12 flex",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{className:"card-image waves-effect waves-block waves-light",children:[Object(d.jsx)("div",{className:"col s12 m6 l6",children:Object(d.jsx)("div",{children:Object(d.jsx)("img",{alt:t.nombre,className:"imgDetail",src:t.urlImagen})})}),Object(d.jsxs)("div",{className:"col s12 m5 l5 detalleProducto",children:[Object(d.jsx)("h5",{className:"producto",children:t.nombre}),Object(d.jsx)("span",{className:"price",children:n(t.price)}),"input"===o?Object(d.jsx)(x,{initial:1,stock:t.stock,onAdd:function(e){m("button"),s(Object(j.a)(Object(j.a)({},t),{},{cantidad:e}))}}):Object(d.jsx)(i.b,{to:"/cart",className:"pretext comprar",children:"Ir a Carrito"})]})]}),Object(d.jsxs)("div",{className:"m-20",children:[Object(d.jsx)("h5",{children:"Descripci\xf3n"}),t.descripcion]})]})},t.id)}),w=function(){return Object(d.jsxs)("div",{className:"spinner",children:[Object(d.jsx)("div",{className:"bounce1"}),Object(d.jsx)("div",{className:"bounce2"}),Object(d.jsx)("div",{className:"bounce3"})]})};var y=function(){var e=Object(h.useState)({}),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(h.useState)(!0),n=Object(b.a)(s,2),r=n[0],i=n[1],o=Object(l.g)().id;return Object(h.useEffect)((function(){var e=O().collection("items");o&&e.doc(o).get().then((function(e){a(Object(j.a)({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){return i(!1)}))}),[o]),r?Object(d.jsx)(w,{}):Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(g,{prod:c})})})})},C=function(e,t){var c=v(),a=c.formatNumber,s=c.deleteItem,n=e.prod;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("img",{src:n.urlImagen,className:"cart",alt:n.nombre})}),Object(d.jsx)("td",{children:Object(d.jsxs)(i.b,{to:"/item/".concat(t),children:[Object(d.jsx)("p",{children:"".concat(n.nombre)}),Object(d.jsxs)("p",{children:["x ",n.cantidad]})]})}),Object(d.jsx)("td",{children:Object(d.jsx)("p",{children:a(n.price)})}),Object(d.jsx)("td",{children:Object(d.jsx)("p",{className:"strong",children:a(n.cantidad*n.price)})}),Object(d.jsx)("td",{className:"borrar",children:Object(d.jsx)("button",{onClick:function(){return s(t)},children:Object(d.jsx)("i",{className:"tiny material-icons",children:"delete"})})})]})},S=(c(49),c(27),c(20)),k=function(e){var t=e.cambio,c=e.envio,a=v().formData;return Object(d.jsxs)("form",{className:"formulario",onChange:t,onSubmit:c,children:[Object(d.jsx)("h4",{children:"Tus Datos"}),Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("input",{id:"first_name",type:"text",name:"nombre",className:"validate",required:!0,defaultValue:a.nombre}),Object(d.jsx)("label",{htmlFor:"first_name","data-error":"wrong","data-success":"right",children:"Nombre"})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s12",children:[Object(d.jsx)("input",{id:"phone",type:"tel",required:!0,name:"telefono",className:"validate",defaultValue:a.telefono}),Object(d.jsx)("label",{htmlFor:"phone","data-error":"wrong","data-success":"right",children:"Telefono"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s12",children:[Object(d.jsx)("input",{id:"email",type:"email",required:!0,name:"email",className:"validate",defaultValue:a.email}),Object(d.jsx)("label",{htmlFor:"email","data-error":"wrong","data-success":"right",children:"Email"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s12",children:[Object(d.jsx)("input",{id:"emailRepetir",type:"email",required:!0,className:"validate",name:"email_validate"}),Object(d.jsx)("label",{htmlFor:"emailRepetir","data-error":"wrong","data-success":"right",children:"Confirmar Email"})]})}),Object(d.jsxs)("button",{className:"btn waves-effect waves-light",disabled:""===a.nombre||""===a.telefono||a.email!==a.email_validate,children:["Generar orden ",Object(d.jsx)("i",{className:"material-icons right",children:"send"})]})]})},D=function(){var e=v(),t=e.formData,c=e.cartList,a=e.deleteAll,s=e.precioTotal,n=e.dbQuery,r=e.setFormData,i=e.setOrderData;return Object(d.jsx)("div",{children:0===c.length&&""!==t.nombre?Object(d.jsx)(l.a,{to:{pathname:"/sucess"}}):c.length>0?Object(d.jsx)(k,{cambio:function(e){r(Object(j.a)(Object(j.a)({},t),{},Object(S.a)({},e.target.name,e.target.value)))},envio:function(e){e.preventDefault();var l={};l.date=m.a.firestore.Timestamp.fromDate(new Date),l.buyer=t,l.total=s(),l.items=c.map((function(e){var t=e.id,c=e.nombre,a=e.cantidad,s=e.urlImagen;return{id:t,nombre:c,price:e.price,subtotal:e.price*e.cantidad,cantidad:a,urlImagen:s}})),n.collection("orders").add(l).then((function(e){return i(Object(j.a)({id:e.id},e.data))})).catch((function(e){return console.log(e)})).finally((function(){return r({nombre:"",telefono:"",email:""})}),a());var d=n.collection("items").where(m.a.firestore.FieldPath.documentId(),"in",c.map((function(e){return e.id}))),o=n.batch();d.get().then((function(e){e.docs.forEach((function(e){o.update(e.ref,{stock:e.data().stock-c.find((function(t){return t.id===e.id})).cantidad})}))}))}}):""})},I=function(){var e=v(),t=e.cartList,c=e.deleteAll,a=e.formatNumber,s=e.precioTotal;return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"col s12",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col m12 l8",children:t.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Carrito"}),Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsx)(C,{prod:e},e.id)}))})}),Object(d.jsxs)("h5",{className:"total",children:["Total:",a(s())]}),Object(d.jsx)("button",{onClick:function(){return c()},children:"Vaciar Carrito"})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Tu carrito est\xe1 vac\xedo"}),Object(d.jsx)("h5",{children:"\xbfNo sab\xe9s qu\xe9 comprar? \xa1Miles de productos te esperan !"}),Object(d.jsx)(i.b,{to:"/",className:"waves-effect waves-light btn",children:"Ir a Productos"})]})}),Object(d.jsx)("div",{className:"col s12 m12 l4",children:Object(d.jsx)(D,{})})]})})})};function T(e){var t=e.prod,c=v().formatNumber;return Object(d.jsx)(i.b,{to:"/item/".concat(t.id),children:Object(d.jsx)("div",{className:"col s12 m6 l4",children:Object(d.jsxs)("div",{className:"card hoverable",children:[Object(d.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(d.jsx)("img",{src:t.urlImagen,alt:t.nombre})}),Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("span",{children:"".concat(t.nombre.slice(0,30)+"...")}),Object(d.jsx)("p",{className:"mayuscula prod-categoria",children:"".concat(t.categoria)}),Object(d.jsx)("div",{className:"prod-price",children:c(t.price)})]})]})},t.id)})}var A=Object(a.memo)((function(e){return e.prod.map((function(e){return Object(d.jsx)(T,{prod:e},e.id)}))})),F=(c(51),function(){var e=Object(h.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(h.useState)(!0),n=Object(b.a)(s,2),r=n[0],i=n[1],o=Object(l.g)().id;return Object(h.useEffect)((function(){var e=O().collection("items");o?e.where("categoria","==",o).get().then((function(e){return a(e.docs.map((function(e){return Object(j.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return i(!1)})):e.get().then((function(e){return a(e.docs.map((function(e){return Object(j.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return i(!1)}))}),[o]),r?Object(d.jsx)(w,{}):Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(A,{prod:c})})})}),E=function(){var e=v().cantidadUnidades;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"iconCantidad",children:[Object(d.jsxs)("div",{className:e>0?"mostrar":"ocultar",children:[Object(d.jsx)("span",{className:"widgetCantidad",children:e})," "]})," ",Object(d.jsx)("i",{className:"large material-icons",children:"shopping_cart"})]})})},_=(c(52),c(26)),q=c.n(_),P=function(){return Object(a.useEffect)((function(){var e=document.querySelectorAll(".sidenav");q.a.Sidenav.init(e,{});var t=document.querySelectorAll(".collapsible");q.a.Collapsible.init(t,{})}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("nav",{className:"nav-extended",children:[Object(d.jsxs)("div",{className:"nav-wrapper container",children:[Object(d.jsx)(i.b,{to:"/",className:"brand-logo",children:Object(d.jsx)("span",{className:"hide-on-small-only",children:Object(d.jsx)("img",{alt:"logo",src:"https://img.icons8.com/fluency/48/000000/tesla-supercharger-pin.png"})})}),Object(d.jsx)(i.c,{to:"/cart",className:"right",children:Object(d.jsx)(E,{})}),Object(d.jsx)(i.b,{to:"#","data-target":"mobile-demo",className:"sidenav-trigger",children:Object(d.jsx)("i",{className:"material-icons",children:"menu"})}),Object(d.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.c,{exact:!0,to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.c,{exact:!0,to:"/productos",children:"Productos"})})]})]}),Object(d.jsx)("div",{className:"nav-content container hide-on-med-and-down ",children:Object(d.jsxs)("ul",{className:"tabs tabs-transparent",children:[Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/televisores",children:"Televisores"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/celulares",children:"Celulares"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/tablet",children:"Tablet"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/notebook",children:"Notebook"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/productos",children:"Todos"})})]})})]}),Object(d.jsxs)("ul",{className:"sidenav",id:"mobile-demo",children:[Object(d.jsx)("li",{className:"sidenav-header red lighten-2",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col s4",children:[Object(d.jsx)("img",{alt:"logo",src:"https://img.icons8.com/fluency/48/000000/tesla-supercharger-pin.png"}),Object(d.jsx)("span",{className:"white-text text-darken-2",children:"Bienvenido"})]})})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.c,{exact:!0,to:"/",children:" Home "})}),Object(d.jsxs)("li",{children:["          ",Object(d.jsx)(i.c,{exact:!0,to:"/productos",children:"            Todos          "})]}),Object(d.jsxs)("li",{children:["          ",Object(d.jsx)("ul",{className:"collapsible lighten-2",children:Object(d.jsxs)("li",{children:[Object(d.jsxs)("ul",{className:"collapsible-header m-10",children:["Categorias",Object(d.jsx)("i",{className:"material-icons right black-text",children:"arrow_drop_down"})]}),Object(d.jsxs)("ul",{className:"collapsible-body",children:[Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/celulares",children:"Celulares"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/tablet",children:"Tablet"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/notebook",children:"Notebook"})}),Object(d.jsx)("li",{className:"tab",children:Object(d.jsx)(i.c,{to:"/categoria/televisores",children:"Televisores"})})]})]})})]})]})]})},R=(c(53),function(){var e=v(),t=e.dataOrder,c=e.detalleOrden,s=e.formData,n=e.dbQuery,r=e.guardarDetalle,i=e.formatNumber;return Object(a.useEffect)((function(){n.collection("orders").doc(t.id).get().then((function(e){return r(e.data())})).catch((function(e){return console.log(e)}))}),[t,n]),Object(d.jsx)("div",{className:"row",children:c?Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"col s12 m5 pa-30",children:[Object(d.jsxs)("h3",{className:"orden",children:["Orden: #",t.id]}),Object(d.jsx)("hr",{}),Object(d.jsxs)("h2",{children:["\xa1Muchas gracias ",s.nombre,"!"]}),Object(d.jsx)("h5",{children:"Datos de contacto"}),Object(d.jsx)("p",{children:s.email}),Object(d.jsx)("p",{children:s.telefono}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{className:"totalSucess",children:["Total: ",i(c.total)]})]}),Object(d.jsxs)("div",{className:"col s12 m7",children:[Object(d.jsx)("h4",{children:"Detalle de orden"}),Object(d.jsx)("table",{className:"sucess",children:Object(d.jsx)("tbody",{children:c.items.map((function(e){return Object(d.jsx)(C,{prod:e},e.id)}))})})]})]}):Object(d.jsx)(w,{})})});var B=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(N,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(P,{}),Object(d.jsxs)(l.d,{children:[Object(d.jsxs)(l.b,{exact:!0,path:"/",children:[Object(d.jsx)(o,{}),Object(d.jsx)(F,{})]}),Object(d.jsx)(l.b,{exact:!0,path:"/productos",component:F}),Object(d.jsx)(l.b,{exact:!0,path:"/categoria/:id",component:F,title:"id"}),Object(d.jsx)(l.b,{exact:!0,path:"/item/:id",component:y}),Object(d.jsx)(l.b,{exact:!0,path:"/cart",component:I}),Object(d.jsx)(l.b,{exact:!0,path:"/sucess",component:R})]})]})})})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,55)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root")),L()}},[[54,1,2]]]);
//# sourceMappingURL=main.d3da7560.chunk.js.map
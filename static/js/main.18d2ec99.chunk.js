(this["webpackJsonpsanchez-jennifer"]=this["webpackJsonpsanchez-jennifer"]||[]).push([[0],{37:function(e,t,c){},39:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(28),r=c.n(n),i=(c(37),c(4)),l=c(5),o=(c(38),c(39),c(29)),d=c(17),j=c.n(d),b=c(1),m=function(){return Object(o.useEffect)((function(){var e=document.querySelectorAll(".carousel.carousel-slider");j.a.Carousel.init(e,{indicators:!0,fullWidth:!0,duration:150}),setTimeout((function(){j.a.Carousel.getInstance(e[0]).next()}),4e3)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"carousel carousel-slider",children:[Object(b.jsx)(i.c,{className:"carousel-item",to:"/productos",children:Object(b.jsx)("img",{src:"assets/image/portada.jpg",alt:"MarketBA"})}),Object(b.jsx)(i.c,{className:"carousel-item",to:"/productos",children:Object(b.jsx)("img",{src:"assets/image/portada2.jpg",alt:"MarketBA"})})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("h1",{className:"categoriaTitle",children:"Ofertas Especiales"})})})]})},u=c(12),O=c(7),h=c(15),x=h.a.initializeApp({apiKey:"AIzaSyCVhTcQ9sFFeuKSLrJZiVSHL8fREIqs63U",authDomain:"react-jennifer.firebaseapp.com",projectId:"react-jennifer",storageBucket:"react-jennifer.appspot.com",messagingSenderId:"262726968128",appId:"1:262726968128:web:cb5036082bafd8331190a5"});function f(){return h.a.firestore(x)}var p=function(e){var t=e.initial,c=e.stock,s=e.onAdd,n=Object(a.useState)(t),r=Object(O.a)(n,2),i=r[0],l=r[1];return Object(b.jsxs)("div",{className:"count",children:[Object(b.jsxs)("div",{className:"quantity-input",children:[Object(b.jsx)("button",{className:"minus",onClick:function(){i>1&&l(i-1)},children:"-"}),Object(b.jsx)("span",{className:"number-input",children:i}),Object(b.jsx)("span",{className:"plus",onClick:function(){i<c&&l(i+1)},children:"+"})]}),Object(b.jsx)("div",{className:"agregarCarrito",children:Object(b.jsx)("button",{className:"addtocart",onClick:function(){return s(i)},children:Object(b.jsxs)("div",{className:"pretext",children:[Object(b.jsx)("i",{className:"material-icons",children:"shopping_cart"})," AGREGAR"]})})})]})},v=c(32),N=Object(a.createContext)(),g=function(){return Object(a.useContext)(N)},w=function(e){var t=e.children,c=Object(a.useState)([0]),s=Object(O.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(""),l=Object(O.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)((function(){return JSON.parse(localStorage.getItem("cart"))||[]})),m=Object(O.a)(j,2),u=m[0],h=m[1],x=Object(a.useState)({nombre:"",telefono:"",email:""}),f=Object(O.a)(x,2),p=f[0],g=f[1],w=Object(a.useState)({}),y=Object(O.a)(w,2),S=y[0],C=y[1],k=Object(a.useState)(),I=Object(O.a)(k,2),A=I[0],D=I[1];return Object(b.jsx)(N.Provider,{value:{cartList:u,cantidadUnidades:n,dataOrder:S,formData:p,detalleOrden:A,message:o,setMessage:d,itemsCart:function(){return u.reduce((function(e,t){return e+t.cantidad}),0)},guardarDetalle:D,setFormData:g,setOrderData:C,addItems:function(e){var t=u.find((function(t){return t.id===e.id}));if(t){var c=t.cantidad+e.cantidad;if(e.stock>c){r(t.cantidad=c),h(u);var a=JSON.stringify(u);localStorage.setItem("cart",a)}else d("No se ha podido agregar al carrito. Cantidades disponibles en stock: "+e.stock),setTimeout((function(){d("")}),8e3)}else{var s=[].concat(Object(v.a)(u),[e]);h(s);var n=JSON.stringify(s);localStorage.setItem("cart",n)}},deleteItem:function(e){var t=u.filter((function(t){return t.id!==e}));h(t);var c=JSON.stringify(t);localStorage.setItem("cart",c)},deleteAll:function(){h([]),localStorage.removeItem("cart")},formatNumber:function(e){return Object(b.jsx)("span",{children:new Intl.NumberFormat("ES-AR",{style:"currency",currency:"ARS"}).format(e)})},precioTotal:function(){return u.reduce((function(e,t){return e+t.cantidad*t.price}),0)}},children:t})},y=(c(48),function(e){var t=e.prod,c=g(),s=c.message,n=c.addItems,r=c.formatNumber,l=Object(a.useState)("input"),o=Object(O.a)(l,2),d=o[0],j=o[1];return Object(b.jsx)("div",{className:"col s12 m12 l12 flex",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{className:"card-image waves-effect waves-block waves-light",children:[Object(b.jsx)("div",{className:"col s12 m6 l6",children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{alt:t.nombre,className:"imgDetail",src:t.urlImagen})})}),Object(b.jsxs)("div",{className:"col s12 m5 l5 detalleProducto",children:[Object(b.jsx)("h5",{className:"producto",children:t.nombre}),Object(b.jsx)("span",{className:"price",children:r(t.price)}),"input"===d?Object(b.jsx)(p,{initial:1,stock:t.stock,onAdd:function(e){n(Object(u.a)(Object(u.a)({},t),{},{cantidad:e})),j("button")}}):Object(b.jsx)(i.b,{to:"/cart",className:"pretext comprar",children:"Ir a Carrito"}),Object(b.jsxs)("span",{className:"stockDisponible",children:["Stock Disponible: ",t.stock]}),Object(b.jsx)("p",{className:"error",children:s})]})]}),Object(b.jsxs)("div",{className:"m-20",children:[Object(b.jsx)("h5",{children:"Descripci\xf3n"}),t.descripcion]})]})},t.id)}),S=function(){return Object(b.jsxs)("div",{className:"spinner",children:[Object(b.jsx)("div",{className:"bounce1"}),Object(b.jsx)("div",{className:"bounce2"}),Object(b.jsx)("div",{className:"bounce3"})]})},C=function(){var e=Object(a.useState)({}),t=Object(O.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),r=Object(O.a)(n,2),i=r[0],o=r[1],d=Object(l.h)().id;return Object(a.useEffect)((function(){var e=f().collection("items");d&&e.doc(d).get().then((function(e){s(Object(u.a)({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}),[d]),i?Object(b.jsx)(S,{}):Object(b.jsx)("div",{className:"full",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(y,{prod:c})})})})},k=function(e){var t=g(),c=t.formatNumber,a=t.deleteItem,s=e.prod;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:s.urlImagen,className:"cart",alt:s.nombre})}),Object(b.jsx)("td",{children:Object(b.jsxs)(i.b,{to:"/item/".concat(s.id),children:[Object(b.jsx)("p",{children:"".concat(s.nombre)}),Object(b.jsxs)("p",{children:["x ",s.cantidad]})]})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:c(s.price)})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{className:"strong",children:c(s.cantidad*s.price)})}),Object(b.jsx)("td",{className:"borrar",children:Object(b.jsx)("button",{onClick:function(){return a(s.id)},children:Object(b.jsx)("i",{className:"tiny material-icons",children:"delete"})})})]})},I=(c(49),c(27),c(20)),A=function(e){var t=e.cambio,c=e.envio,a=g().formData;return Object(b.jsxs)("form",{className:"formulario",onChange:t,onSubmit:c,children:[Object(b.jsx)("h4",{children:"Tus Datos"}),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("input",{id:"first_name",type:"text",name:"nombre",className:"validate",required:!0,defaultValue:a.nombre}),Object(b.jsx)("label",{htmlFor:"first_name","data-error":"wrong","data-success":"right",children:"Nombre"})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s12",children:[Object(b.jsx)("input",{id:"phone",type:"tel",required:!0,name:"telefono",className:"validate",defaultValue:a.telefono}),Object(b.jsx)("label",{htmlFor:"phone","data-error":"wrong","data-success":"right",children:"Telefono"})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s12",children:[Object(b.jsx)("input",{id:"email",type:"email",required:!0,name:"email",className:"validate",defaultValue:a.email}),Object(b.jsx)("label",{htmlFor:"email","data-error":"wrong","data-success":"right",children:"Email"})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s12",children:[Object(b.jsx)("input",{id:"emailRepetir",type:"email",required:!0,className:"validate",name:"email_validate"}),Object(b.jsx)("label",{htmlFor:"emailRepetir","data-error":"wrong","data-success":"right",children:"Confirmar Email"})]})}),Object(b.jsxs)("button",{className:"btn waves-effect waves-light",disabled:""===a.nombre||""===a.telefono||a.email!==a.email_validate,children:["Confirmar ",Object(b.jsx)("i",{className:"material-icons right",children:"send"})]})]})},D=function(){var e=g(),t=e.formData,c=e.cartList,a=e.deleteAll,s=e.precioTotal,n=e.setFormData,r=e.setOrderData;return Object(b.jsx)("div",{children:0===c.length&&""!==t.nombre?Object(b.jsx)(l.a,{to:{pathname:"/sucess"}}):c.length>0?Object(b.jsx)(A,{cambio:function(e){n(Object(u.a)(Object(u.a)({},t),{},Object(I.a)({},e.target.name,e.target.value)))},envio:function(e){e.preventDefault();var i={};i.date=h.a.firestore.Timestamp.fromDate(new Date),i.buyer=t,i.total=s(),i.items=c.map((function(e){var t=e.id,c=e.nombre,a=e.cantidad,s=e.urlImagen;return{id:t,nombre:c,price:e.price,subtotal:e.price*e.cantidad,cantidad:a,urlImagen:s}}));var l=f();l.collection("orders").add(i).then((function(e){return r(Object(u.a)({id:e.id},e.data))})).catch((function(e){return console.log(e)})).finally((function(){return n({nombre:"",telefono:"",email:""})}),a());var o=l.collection("items").where(h.a.firestore.FieldPath.documentId(),"in",c.map((function(e){return e.id}))),d=l.batch();o.get().then((function(e){e.docs.forEach((function(e){d.update(e.ref,{stock:e.data().stock-c.find((function(t){return t.id===e.id})).cantidad})})),d.commit().catch((function(e){return console.log(e)}))}))}}):""})},T=function(){var e=g(),t=e.cartList,c=e.deleteAll,a=e.formatNumber,s=e.precioTotal;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"col s12",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col s12 l8",children:t.length?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Carrito"}),Object(b.jsx)("table",{className:"responsive-table",children:Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsx)(k,{prod:e},e.id)}))})}),Object(b.jsxs)("h5",{className:"total",children:["Total:",a(s())]}),Object(b.jsx)("button",{onClick:function(){return c()},children:"Vaciar Carrito"})]}):Object(b.jsxs)("div",{className:"container full",children:[Object(b.jsx)("h3",{children:"Tu carrito est\xe1 vac\xedo"}),Object(b.jsx)("h5",{children:"\xbfNo sab\xe9s qu\xe9 comprar? \xa1Miles de productos te esperan !"}),Object(b.jsx)(i.b,{to:"/productos",className:"waves-effect waves-light btn",children:"Ir a Productos"})]})}),Object(b.jsx)("div",{className:"col s12 m12 l4",children:Object(b.jsx)(D,{})})]})})})},F=function(e){var t=e.prod,c=g().formatNumber;return Object(b.jsx)(i.b,{to:"/item/".concat(t.id),children:Object(b.jsx)("div",{className:"col s12 m6 l4",children:Object(b.jsxs)("div",{className:"card hoverable",children:[Object(b.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(b.jsx)("img",{src:t.urlImagen,alt:t.nombre})}),Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("span",{children:"".concat(t.nombre.slice(0,30)+"...")}),Object(b.jsx)("p",{className:"mayuscula prod-categoria",children:"".concat(t.categoria)}),Object(b.jsx)("div",{className:"prod-price",children:c(t.price)})]})]})},t.id)})},E=Object(a.memo)((function(e){return e.prod.map((function(e){return Object(b.jsx)(F,{prod:e},e.id)}))})),q=(c(51),function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),r=Object(O.a)(n,2),i=r[0],o=r[1],d=Object(l.h)().id,j=Object(l.g)();return Object(a.useEffect)((function(){var e=!0,t=f().collection("items");return d?t=t.where("categoria","==",d):"/"===j.pathname&&(t=t.where("ofertaEspecial","==",!0)),t.get().then((function(t){e&&s(t.docs.map((function(e){return Object(u.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)})),function(){e=!1}}),[d,j]),i?Object(b.jsx)(S,{}):Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[d?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"categoriaTitle",children:d}),Object(b.jsxs)("p",{className:"resultadosCantidad",children:[c.length," Resultados"]})]}):"",Object(b.jsx)(E,{prod:c},c.id)]})})}),B=(c(52),function(){var e=g(),t=e.dataOrder,c=e.detalleOrden,s=e.guardarDetalle,n=e.formatNumber;return Object(a.useEffect)((function(){f().collection("orders").doc(t.id).get().then((function(e){return s(e.data())})).catch((function(e){return console.log(e)}))}),[t,s]),Object(b.jsx)("div",{className:"row",children:c?Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsxs)("h3",{className:"orden",children:["Orden: #",t.id]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("h4",{children:["\xa1Muchas gracias ",c.buyer.nombre,"!"]}),Object(b.jsx)("h5",{children:"Datos de contacto"}),Object(b.jsx)("p",{children:c.buyer.email}),Object(b.jsx)("p",{children:c.buyer.telefono}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{className:"totalSucess",children:["Total: ",n(c.total)]})]}),Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("h4",{children:"Detalle de orden"}),Object(b.jsx)("table",{className:"sucess responsive-table",children:Object(b.jsx)("tbody",{children:c.items.map((function(e){return Object(b.jsx)(k,{prod:e},e.id)}))})})]})]}):Object(b.jsx)(S,{})})}),R=c(26),M=function(e){var t=e.nombre;return Object(b.jsx)("li",{className:"tab",children:Object(b.jsx)(i.c,{to:"/categoria/"+t,className:"mayuscula",children:t},t)})},J=function(e){var t=e.categorias;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"nav-wrapper container",children:Object(b.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down mayuscula",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{exact:!0,to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{exact:!0,to:"/productos",children:"Productos"})})]})}),Object(b.jsx)("div",{className:"nav-content  hide-on-med-and-down ",children:Object(b.jsx)("ul",{className:"tabs tabs-transparent",children:t.map((function(e){return Object(b.jsx)(M,{nombre:e},e)}))})})]})},V=function(e){var t=e.categorias;return Object(a.useEffect)((function(){var e=document.querySelectorAll(".sidenav");j.a.Sidenav.init(e,{})}),[]),Object(b.jsxs)("ul",{className:"sidenav",id:"mobile-demo",children:[Object(b.jsx)("li",{className:"sidenav-header red lighten-2",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("img",{alt:"logo",src:"https://img.icons8.com/fluency/48/000000/tesla-supercharger-pin.png"}),Object(b.jsx)("span",{className:"white-text text-darken-2",children:"Bienvenido"})]})})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:"mayuscula",exact:!0,to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:"mayuscula",exact:!0,to:"/productos",children:"Todos"})}),t.map((function(e){return Object(b.jsx)(M,{nombre:e},e)})),")"]})},L=function(){var e=g().itemsCart;return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"iconCantidad",children:[Object(b.jsx)("div",{className:e()>0?"mostrar":"ocultar",children:Object(b.jsx)("span",{className:"widgetCantidad",children:e()})}),Object(b.jsx)("i",{className:"large material-icons",children:"shopping_cart"})]})})},P=(c(55),function(){var e=["notebook","celulares","televisores","tablet"];return Object(b.jsx)("nav",{className:"nav-extended",children:Object(b.jsxs)("div",{className:"nav-wrapper container",children:[Object(b.jsx)(i.c,{to:"/",className:"brand-logo",children:Object(b.jsx)("span",{className:"hide-on-small-only",children:Object(b.jsx)("span",{className:"led",children:" MARKET BA"})})}),Object(b.jsx)(i.c,{to:"#","data-target":"mobile-demo",className:"sidenav-trigger",children:Object(b.jsx)("i",{className:"material-icons",children:"menu"})}),Object(b.jsx)(i.c,{to:"/cart",className:"right",children:Object(b.jsx)(L,{})}),Object(b.jsx)(R.BrowserView,{children:Object(b.jsx)(J,{categorias:e})}),Object(b.jsx)(R.MobileView,{children:Object(b.jsx)(V,{categorias:e})})]})})});function X(){return Object(b.jsxs)("footer",{className:"page-footer grey",children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col l6 s12",children:[Object(b.jsx)("h5",{className:"white-text",children:"MARKET BA"}),Object(b.jsx)("p",{className:"grey-text text-lighten-4",children:"Somos un equipo de estudiantes que trabajan en este proyecto como si fuera nuestro trabajo de tiempo completo."})]}),Object(b.jsxs)("div",{className:"col l6 s12",children:[Object(b.jsx)("h5",{className:"white-text",children:"CONTACTO"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"tiny material-icons",children:"local_phone"})," 11-XXX-XXXX"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"tiny material-icons",children:"email"})," contacto@marketba.ar"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"tiny material-icons",children:"place"})," Av. Cantilo 000 - Buenos Aires "]})]})]})}),Object(b.jsx)("div",{className:"footer-copyright",children:Object(b.jsxs)("div",{className:"container",children:["Hecho por ",Object(b.jsx)("span",{className:"blue-text text-lighten-3",children:"Jennifer"})]})})]})}var _=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(w,{children:Object(b.jsxs)(i.a,{basename:"https://jennis015.github.io/react-jennifer",children:[Object(b.jsx)(P,{}),Object(b.jsxs)(l.d,{children:[Object(b.jsxs)(l.b,{exact:!0,path:"/",children:[Object(b.jsx)(m,{}),Object(b.jsx)(q,{})]}),Object(b.jsx)(l.b,{path:"/productos",component:q}),Object(b.jsx)(l.b,{path:"/categoria/:id",component:q}),Object(b.jsx)(l.b,{path:"/item/:id",component:C}),Object(b.jsx)(l.b,{path:"/cart",component:T}),Object(b.jsx)(l.b,{path:"/sucess",component:B})]}),Object(b.jsx)(X,{})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,57)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(_,{})}),document.getElementById("root")),z()}},[[56,1,2]]]);
//# sourceMappingURL=main.18d2ec99.chunk.js.map